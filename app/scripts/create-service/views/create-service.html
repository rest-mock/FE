<div>
    <form name="createServiceForm" novalidate role="form">
        <fieldset>
            <h1>Service</h1>
            <div class="form-group" ng-class="{'has-error': createServiceForm.serviceName.showFormValidationMessage}">
                <label class="control-label" for="serviceName">Name</label>
                <input 
                    placeholder="My awesome service"
                    class="form-control" 
                    type="text" 
                    name="serviceName" 
                    ng-model="service.name" 
                    id="serviceName"
                    ng-required="true"
                >
                <form-validation-messages controller="createServiceForm.serviceName"></form-validation-messages>
            </div>

            <div class="form-group" ng-class="{'has-error': createServiceForm.servicePath.showFormValidationMessage}">
                <label class="control-label" for="servicePath">Path</label>
                <input 
                    placeholder="my/awesome/service/:serviceId"
                    class="form-control" 
                    type="text" 
                    name="servicePath" 
                    ng-model="service.path" 
                    id="servicePath"
                    ng-required="true"
                    validate-path
                >
                <form-validation-messages controller="createServiceForm.servicePath"></form-validation-messages>
            </div>
            
            <div class="form-group">
                <div>
                    <label for="">Mode</label>
                </div>
                <div class="btn-group selection-group">
                    <div>
                        <input ng-required="true" type="radio" value="static" ng-model="service.mode" id="serviceModeStatic" name="serviceMode" ng-disabled="paramsInPath">
                        <label class="btn btn-default" for="serviceModeStatic">Static</label>
                    </div>
                    <div>
                        <input ng-required="true" type="radio" value="dynamin" ng-model="service.mode" id="serviceModeDynamin" ng-checked="paramsInPath" name="serviceMode">
                        <label class="btn btn-default" for="serviceModeDynamin">Dynamic</label>
                    </div>
                </div>

                <form-validation-messages controller="createServiceForm.serviceMode"></form-validation-messages>

                <div class="bs-callout bs-callout-info" ng-show="paramsInPath">
                    <span>The method has been selected as <i>dynamic</i> since the path has variables. If you want to change it to <i>static</i>, remove the variables from the path.</span>
                </div>
            </div>

            <div class="form-group">
                <div>
                    <label for="">Varaibles types</label>
                </div>

                <div ng-repeat="param in service.pathParams">
                    <p>{{param.key}}</p>
                    <div class="btn-group selection-group">
                        <div>
                            <input ng-required="true" type="radio" value="numeric" ng-model="param.type" id="paramTypeNumeric{{$index}}" name="paramType{{$index}}">
                            <label class="btn btn-default" for="paramTypeNumeric{{$index}}">Numeric</label>
                        </div>
                        <div>
                            <input ng-required="true" type="radio" value="letter" ng-model="param.type" id="paramTypeLetter{{$index}}" name="paramType{{$index}}">
                            <label class="btn btn-default" for="paramTypeLetter{{$index}}">Letter</label>
                        </div>
                        <div>
                            <input ng-required="true" type="radio" value="alpha" ng-model="param.type" id="paramTypeAlpha{{$index}}" name="paramType{{$index}}">
                            <label class="btn btn-default" for="paramTypeAlpha{{$index}}">Alpha</label>
                        </div>
                        <div>
                            <input ng-required="true" type="radio" value="regexp" ng-model="param.type" id="paramTypeRegexp{{$index}}" name="paramType{{$index}}">
                            <label class="btn btn-default" for="paramTypeRegexp{{$index}}">RegExp</label>
                        </div>
                    </div>
                    <div ng-show="param.type === 'regexp'">
                        <label for="">Enter your regular expresison between slashes and add the flags if neccessary</label>
                        <input type="text" class="form-control" ng-model="param.value">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <button type="button" class="btn btn-success" ng-click="saveService()" ng-disabled="createServiceForm.$invalid || createServiceForm.pristine">Save</button>
            </div>
        </fieldset>

    </form>
</div>